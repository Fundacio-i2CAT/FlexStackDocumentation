

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Link Layer &mdash; FlexStack 0.10.7 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=31ca06fa"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="../_static/design-tabs.js?v=36754332"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs"></script>
      <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
      <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
      <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
      <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GeoNetworking (GN)" href="geonetworking.html" />
    <link rel="prev" title="Getting Started" href="../getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            FlexStack
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">FlexStack(R) Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#modules">Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html#what-you-ll-build">What You‚Äôll Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html#understanding-the-protocol-stack">Understanding the Protocol Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html#step-by-step-tutorial">Step-by-Step Tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html#step-1-basic-setup">Step 1: Basic Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html#step-2-location-service">Step 2: Location Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html#step-3-geonetworking-router">Step 3: GeoNetworking Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html#step-4-btp-router">Step 4: BTP Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html#step-5-local-dynamic-map-ldm">Step 5: Local Dynamic Map (LDM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html#step-6-ca-basic-service">Step 6: CA Basic Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html#step-7-link-layer">Step 7: Link Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started.html#step-8-run-the-application">Step 8: Run the Application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html#need-help">Need Help?</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FlexStack(R) Modules</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Link Layer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#choosing-a-link-layer">Choosing a Link Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rawlinklayer">RawLinkLayer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#complete-example">Complete Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pythoncv2xlinklayer">PythonCV2XLinkLayer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Quick Start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Complete Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cv2xlinklayer-c-library">CV2XLinkLayer C++ Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#library-components">Library Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-from-source">Building from Source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#direct-c-api-usage">Direct C++ API Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#integration-with-flexstack">Integration with FlexStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="geonetworking.html">GeoNetworking (GN)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="geonetworking.html#what-geonetworking-does">What GeoNetworking Does</a></li>
<li class="toctree-l2"><a class="reference internal" href="geonetworking.html#architecture">Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="geonetworking.html#key-components">Key Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="geonetworking.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="geonetworking.html#step-1-configure-the-mib">Step 1: Configure the MIB</a></li>
<li class="toctree-l3"><a class="reference internal" href="geonetworking.html#step-2-create-the-router">Step 2: Create the Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="geonetworking.html#step-3-provide-position-updates">Step 3: Provide Position Updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="geonetworking.html#step-4-connect-to-link-layer">Step 4: Connect to Link Layer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="geonetworking.html#sending-packets">Sending Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="geonetworking.html#receiving-packets">Receiving Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="geonetworking.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="geonetworking.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="btp.html">Basic Transport Protocol (BTP)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="btp.html#what-btp-does">What BTP Does</a></li>
<li class="toctree-l2"><a class="reference internal" href="btp.html#architecture">Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="btp.html#btp-types">BTP Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="btp.html#well-known-ports">Well-Known Ports</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="btp.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="btp.html#step-1-create-geonetworking-router">Step 1: Create GeoNetworking Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="btp.html#step-2-create-btp-router">Step 2: Create BTP Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="btp.html#step-3-register-port-callbacks">Step 3: Register Port Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="btp.html#step-4-freeze-callbacks">Step 4: Freeze Callbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="btp.html#step-5-connect-link-layer">Step 5: Connect Link Layer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="btp.html#sending-packets">Sending Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="btp.html#receiving-packets">Receiving Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="btp.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="btp.html#integration-with-facilities">Integration with Facilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="btp.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Facilities Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="facilities/ca_basic_service.html">Cooperative Awareness (CA) Basic Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="facilities/ca_basic_service.html#what-cams-contain">What CAMs Contain</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/ca_basic_service.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/ca_basic_service.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="facilities/ca_basic_service.html#step-1-configure-vehicle-data">Step 1: Configure Vehicle Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/ca_basic_service.html#step-2-set-up-prerequisites">Step 2: Set Up Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/ca_basic_service.html#step-3-create-ca-basic-service">Step 3: Create CA Basic Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="facilities/ca_basic_service.html#receiving-cams">Receiving CAMs</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/ca_basic_service.html#cam-message-structure">CAM Message Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/ca_basic_service.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/ca_basic_service.html#cam-generation-rules">CAM Generation Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/ca_basic_service.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="facilities/vru_awareness_service.html">VRU Awareness Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#what-are-vrus">What Are VRUs?</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#vam-vs-cam">VAM vs CAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="facilities/vru_awareness_service.html#step-1-configure-device-data-provider">Step 1: Configure Device Data Provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/vru_awareness_service.html#step-2-set-up-prerequisites">Step 2: Set Up Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/vru_awareness_service.html#step-3-create-vru-awareness-service">Step 3: Create VRU Awareness Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#vam-generation-rules">VAM Generation Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#vam-message-structure">VAM Message Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#vru-clustering">VRU Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#use-cases">Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/vru_awareness_service.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="facilities/den_service.html">Decentralized Environmental Notification (DEN) Service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#what-denms-are-for">What DENMs Are For</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#cam-vs-denm">CAM vs DENM</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="facilities/den_service.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/den_service.html#step-1-create-den-service">Step 1: Create DEN Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/den_service.html#step-2-use-an-application-service">Step 2: Use an Application Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#emergency-vehicle-approaching-service">Emergency Vehicle Approaching Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#denm-lifecycle">DENM Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#denm-message-structure">DENM Message Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#cause-codes">Cause Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/den_service.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="facilities/local_dynamic_map.html">Local Dynamic Map</a><ul>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#what-the-ldm-does">What the LDM Does</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#supported-data-types">Supported Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#step-1-create-the-ldm">Step 1: Create the LDM</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#step-2-connect-location-updates">Step 2: Connect Location Updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#step-3-connect-to-facility-services">Step 3: Connect to Facility Services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#data-providers">Data Providers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#register-a-custom-provider">Register a Custom Provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#publish-data">Publish Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#data-consumers">Data Consumers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#register-as-a-consumer">Register as a Consumer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#querying-the-ldm">Querying the LDM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#basic-query">Basic Query</a></li>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#filtered-query">Filtered Query</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#subscribing-to-updates">Subscribing to Updates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="facilities/local_dynamic_map.html#subscribe-example">Subscribe Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#ldm-data-object">LDM Data Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#area-of-maintenance">Area of Maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#use-cases">Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="facilities/local_dynamic_map.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/docker-deployment.html">Docker Deployment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#why-use-docker">Why Use Docker?</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#step-1-create-project-structure">Step 1: Create Project Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#step-2-create-the-dockerfile">Step 2: Create the Dockerfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#step-3-create-the-application">Step 3: Create the Application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#running-a-single-container">Running a Single Container</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#build-and-run">Build and Run</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#with-custom-arguments">With Custom Arguments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#running-multiple-stations">Running Multiple Stations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#docker-compose-setup">Docker Compose Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#start-all-stations">Start All Stations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#communication-flow">Communication Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#scaling-stations">Scaling Stations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#advanced-configuration">Advanced Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#volume-mounting">Volume Mounting</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#health-checks">Health Checks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/docker-deployment.html#debug-commands">Debug Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#complete-project">Complete Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/docker-deployment.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html">Ethernet Deployment with RawLinkLayer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#how-it-works">How It Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#step-1-find-your-network-interface">Step 1: Find Your Network Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#step-2-create-your-application">Step 2: Create Your Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#step-3-run-with-root-privileges">Step 3: Run with Root Privileges</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#common-errors">Common Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#testing-locally">Testing Locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#two-station-test">Two-Station Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#network-capture">Network Capture</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#mac-address-configuration">MAC Address Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/rawlinklayer-ethernet-deployment.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/logging.html">Logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#log-levels">Log Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/logging.html#one-line-setup">One-Line Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/logging.html#better-formatting">Better Formatting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#component-loggers">Component Loggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#filtering-by-component">Filtering by Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#logging-to-file">Logging to File</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#configuration-file">Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#common-patterns">Common Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/logging.html#debug-a-specific-issue">Debug a Specific Issue</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/logging.html#production-logging">Production Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/logging.html#json-logging">JSON Logging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/logging.html#see-also">See Also</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FlexStack</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Link Layer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/link_layer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="link-layer">
<span id="id1"></span><h1>Link Layer<a class="headerlink" href="#link-layer" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>The Link Layer is the foundation of V2X communication ‚Äî it‚Äôs responsible for actually sending and receiving
packets over the air (or wire). Think of it as the ‚Äúradio‚Äù of your V2X stack.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Link Layer sits at the bottom of the protocol stack. All messages from GeoNetworking eventually
pass through here to reach other vehicles.</p>
</div>
<section id="choosing-a-link-layer">
<h2>Choosing a Link Layer<a class="headerlink" href="#choosing-a-link-layer" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>FlexStack¬Æ provides two Link Layer implementations for different scenarios:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 40.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Implementation</p></th>
<th class="head"><p>Use Case</p></th>
<th class="head"><p>Requirements</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RawLinkLayer</span></code></p></td>
<td><p>Testing, development, IEEE 802.11p (ITS-G5)</p></td>
<td><p>Linux with raw socket support</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PythonCV2XLinkLayer</span></code></p></td>
<td><p>Production C-V2X communication</p></td>
<td><p>Qualcomm <code class="docutils literal notranslate"><span class="pre">telux_cv2x</span></code> SDK</p></td>
</tr>
</tbody>
</table>
</section>
<section id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Both implementations inherit from a common <code class="docutils literal notranslate"><span class="pre">LinkLayer</span></code> base class:</p>
<pre  class="mermaid">
        classDiagram
    direction TB
    class LinkLayer {
        &lt;&lt;abstract&gt;&gt;
        +receive_callback: Callable[[bytes], None]
        +send(packet: bytes)*
    }
    class RawLinkLayer {
        +iface: str
        +mac_address: bytes
        +send(packet: bytes)
    }
    class PythonCV2XLinkLayer {
        +send(packet: bytes)
    }

    LinkLayer &lt;|-- RawLinkLayer : implements
    LinkLayer &lt;|-- PythonCV2XLinkLayer : implements
    </pre><p>The key concept is simple:</p>
<ul class="simple">
<li><p><strong>send()</strong> ‚Äî Transmit a packet</p></li>
<li><p><strong>receive_callback</strong> ‚Äî Function called when a packet arrives</p></li>
</ul>
<p>This design makes it easy to swap implementations without changing your application code.</p>
</section>
<hr class="docutils" />
<section id="rawlinklayer">
<h2>RawLinkLayer<a class="headerlink" href="#rawlinklayer" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">RawLinkLayer</span></code> uses Linux raw sockets to send and receive Ethernet frames directly.
It‚Äôs perfect for:</p>
<ul class="simple">
<li><p>üß™ <strong>Testing</strong> on loopback (<code class="docutils literal notranslate"><span class="pre">lo</span></code>) interface</p></li>
<li><p>üîå <strong>Wired setups</strong> using Ethernet or virtual interfaces (veth)</p></li>
<li><p>üì° <strong>ITS-G5</strong> when using an 802.11p OCB interface</p></li>
</ul>
<section id="quick-start">
<h3>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">flexstack.linklayer.raw_link_layer</span><span class="w"> </span><span class="kn">import</span> <span class="n">RawLinkLayer</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_packet_received</span><span class="p">(</span><span class="n">packet</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üì• Received: </span><span class="si">{</span><span class="n">packet</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Create link layer on loopback interface</span>
<span class="n">link_layer</span> <span class="o">=</span> <span class="n">RawLinkLayer</span><span class="p">(</span>
    <span class="n">iface</span><span class="o">=</span><span class="s2">&quot;lo&quot;</span><span class="p">,</span>                    <span class="c1"># Network interface</span>
    <span class="n">mac_address</span><span class="o">=</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\xAA\xBB\xCC\xDD\xEE\xFF</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="n">receive_callback</span><span class="o">=</span><span class="n">on_packet_received</span>
<span class="p">)</span>

<span class="c1"># Send a packet</span>
<span class="n">link_layer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;Hello V2X!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading">ÔÉÅ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 15.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">iface</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td><p>Network interface name (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;lo&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;eth0&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;wlan0&quot;</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mac_address</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code></p></td>
<td><p>6-byte MAC address for this station</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">receive_callback</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Callable</span></code></p></td>
<td><p>Function called with received packet bytes</p></td>
</tr>
</tbody>
</table>
</section>
<section id="complete-example">
<h3>Complete Example<a class="headerlink" href="#complete-example" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flexstack.linklayer.raw_link_layer</span><span class="w"> </span><span class="kn">import</span> <span class="n">RawLinkLayer</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_packet_received</span><span class="p">(</span><span class="n">packet</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üì• Received packet: </span><span class="si">{</span><span class="n">packet</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">MAC_ADDRESS</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\xAA\xBB\xCC\xDD\xEE\xFF</span><span class="s1">&#39;</span>

    <span class="n">link_layer</span> <span class="o">=</span> <span class="n">RawLinkLayer</span><span class="p">(</span>
        <span class="n">iface</span><span class="o">=</span><span class="s2">&quot;lo&quot;</span><span class="p">,</span>
        <span class="n">mac_address</span><span class="o">=</span><span class="n">MAC_ADDRESS</span><span class="p">,</span>
        <span class="n">receive_callback</span><span class="o">=</span><span class="n">on_packet_received</span>
    <span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üì° RawLinkLayer running on loopback interface&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Press Ctrl+C to exit</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="c1"># Send test packet</span>
            <span class="n">data</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">([</span><span class="n">i</span> <span class="o">%</span> <span class="mi">256</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)])</span>
            <span class="n">link_layer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üì§ Sent packet: </span><span class="si">{</span><span class="n">data</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üëã Exiting...&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For testing two stations locally, create a virtual Ethernet pair:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span>add<span class="w"> </span>veth0<span class="w"> </span><span class="nb">type</span><span class="w"> </span>veth<span class="w"> </span>peer<span class="w"> </span>name<span class="w"> </span>veth1
sudo<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span><span class="nb">set</span><span class="w"> </span>veth0<span class="w"> </span>up
sudo<span class="w"> </span>ip<span class="w"> </span>link<span class="w"> </span><span class="nb">set</span><span class="w"> </span>veth1<span class="w"> </span>up
</pre></div>
</div>
<p>Then use <code class="docutils literal notranslate"><span class="pre">&quot;veth0&quot;</span></code> for one station and <code class="docutils literal notranslate"><span class="pre">&quot;veth1&quot;</span></code> for the other.</p>
</div>
</section>
</section>
<hr class="docutils" />
<section id="pythoncv2xlinklayer">
<h2>PythonCV2XLinkLayer<a class="headerlink" href="#pythoncv2xlinklayer" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">PythonCV2XLinkLayer</span></code> enables real C-V2X (Cellular V2X) communication using
Qualcomm‚Äôs PC5 sidelink interface. This is what you‚Äôd use in production vehicles.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This requires the <code class="docutils literal notranslate"><span class="pre">telux_cv2x</span></code> SDK and compatible hardware (e.g., Qualcomm SDX55/SDX65).</p>
</div>
<section id="id2">
<h3>Quick Start<a class="headerlink" href="#id2" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">flexstack.linklayer.cv2x_link_layer</span><span class="w"> </span><span class="kn">import</span> <span class="n">PythonCV2XLinkLayer</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_packet_received</span><span class="p">(</span><span class="n">packet</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üì• Received C-V2X packet: </span><span class="si">{</span><span class="n">packet</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Create C-V2X link layer</span>
<span class="n">link_layer</span> <span class="o">=</span> <span class="n">PythonCV2XLinkLayer</span><span class="p">(</span><span class="n">receive_callback</span><span class="o">=</span><span class="n">on_packet_received</span><span class="p">)</span>

<span class="c1"># Send a packet</span>
<span class="n">link_layer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;Hello C-V2X!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3>Complete Example<a class="headerlink" href="#id3" title="Permalink to this heading">ÔÉÅ</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flexstack.linklayer.cv2x_link_layer</span><span class="w"> </span><span class="kn">import</span> <span class="n">PythonCV2XLinkLayer</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_packet_received</span><span class="p">(</span><span class="n">packet</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üì• Received C-V2X packet: </span><span class="si">{</span><span class="n">packet</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">link_layer</span> <span class="o">=</span> <span class="n">PythonCV2XLinkLayer</span><span class="p">(</span><span class="n">receive_callback</span><span class="o">=</span><span class="n">on_packet_received</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üì° C-V2X Link Layer active&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Press Ctrl+C to exit</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">([</span><span class="n">i</span> <span class="o">%</span> <span class="mi">256</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)])</span>
            <span class="n">link_layer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üì§ Sent C-V2X packet: </span><span class="si">{</span><span class="n">data</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">hex</span><span class="p">()</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üëã Shutting down...&quot;</span><span class="p">)</span>

    <span class="c1"># Clean up C-V2X resources</span>
    <span class="k">del</span> <span class="n">link_layer</span><span class="o">.</span><span class="n">link_layer</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Allow time for cleanup</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úÖ Shutdown complete&quot;</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
</section>
</section>
<section id="cv2xlinklayer-c-library">
<span id="cv2xlinklayer"></span><h2>CV2XLinkLayer C++ Library<a class="headerlink" href="#cv2xlinklayer-c-library" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>Under the hood, <code class="docutils literal notranslate"><span class="pre">PythonCV2XLinkLayer</span></code> uses a C++ library called <code class="docutils literal notranslate"><span class="pre">cv2xlinklayer</span></code> that interfaces
with the Qualcomm telematics SDK. This section is for advanced users who need to build or modify
this library.</p>
<pre  class="mermaid">
        flowchart LR
    subgraph Python
        A[PythonCV2XLinkLayer]
    end
    subgraph &quot;C++ (pybind11)&quot;
        B[cv2xlinklayer.so]
    end
    subgraph &quot;Qualcomm SDK&quot;
        C[telux_cv2x]
    end
    subgraph Hardware
        D[C-V2X Modem]
    end

    A &lt;--&gt; B
    B &lt;--&gt; C
    C &lt;--&gt; D
    </pre><section id="library-components">
<h3>Library Components<a class="headerlink" href="#library-components" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>The library consists of three main files:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>File</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cv2x_link_layer.cpp</span></code></p></td>
<td><p>Main implementation: Tx/Rx flow setup, callbacks, send/receive methods</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cv2x_link_layer.hpp</span></code></p></td>
<td><p>Header file declaring the <code class="docutils literal notranslate"><span class="pre">CV2XLinkLayer</span></code> class</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></p></td>
<td><p>Build configuration for CMake</p></td>
</tr>
</tbody>
</table>
</section>
<section id="building-from-source">
<h3>Building from Source<a class="headerlink" href="#building-from-source" title="Permalink to this heading">ÔÉÅ</a></h3>
<p><strong>Prerequisites:</strong></p>
<ul class="simple">
<li><p>CMake ‚â• 3.12</p></li>
<li><p>C++11 compiler</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pybind11</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">telux_cv2x</span></code> SDK (from Qualcomm)</p></li>
</ul>
<p><strong>Build steps:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clone and enter the directory</span>
<span class="nb">cd</span><span class="w"> </span>cv2xlinklayer

<span class="c1"># Create build directory</span>
mkdir<span class="w"> </span>build<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>build

<span class="c1"># Configure and build</span>
cmake<span class="w"> </span>..
make

<span class="c1"># The output is: lib/cv2xlinklayer.so</span>
</pre></div>
</div>
</section>
<section id="direct-c-api-usage">
<h3>Direct C++ API Usage<a class="headerlink" href="#direct-c-api-usage" title="Permalink to this heading">ÔÉÅ</a></h3>
<p>If you need to use the library directly from Python without the FlexStack wrapper:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cv2xlinklayer</span>

<span class="c1"># Create instance</span>
<span class="n">link_layer</span> <span class="o">=</span> <span class="n">cv2xlinklayer</span><span class="o">.</span><span class="n">CV2XLinkLayer</span><span class="p">()</span>

<span class="c1"># Send data</span>
<span class="n">link_layer</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;Hello, C-V2X!&quot;</span><span class="p">)</span>

<span class="c1"># Receive data (blocking)</span>
<span class="n">received</span> <span class="o">=</span> <span class="n">link_layer</span><span class="o">.</span><span class="n">receive</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Received: </span><span class="si">{</span><span class="n">received</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="integration-with-flexstack">
<h2>Integration with FlexStack<a class="headerlink" href="#integration-with-flexstack" title="Permalink to this heading">ÔÉÅ</a></h2>
<p>In a complete FlexStack application, the Link Layer connects to the GeoNetworking router:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">flexstack.linklayer.raw_link_layer</span><span class="w"> </span><span class="kn">import</span> <span class="n">RawLinkLayer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">flexstack.geonet.router</span><span class="w"> </span><span class="kn">import</span> <span class="n">Router</span> <span class="k">as</span> <span class="n">GNRouter</span>

<span class="c1"># Create GeoNetworking router</span>
<span class="n">gn_router</span> <span class="o">=</span> <span class="n">GNRouter</span><span class="p">(</span><span class="n">mib</span><span class="o">=</span><span class="n">mib</span><span class="p">,</span> <span class="n">sign_service</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># Create Link Layer with GN router as callback</span>
<span class="n">link_layer</span> <span class="o">=</span> <span class="n">RawLinkLayer</span><span class="p">(</span>
    <span class="n">iface</span><span class="o">=</span><span class="s2">&quot;lo&quot;</span><span class="p">,</span>
    <span class="n">mac_address</span><span class="o">=</span><span class="n">MAC_ADDRESS</span><span class="p">,</span>
    <span class="n">receive_callback</span><span class="o">=</span><span class="n">gn_router</span><span class="o">.</span><span class="n">gn_data_indicate</span>  <span class="c1"># üëà Connect to GN</span>
<span class="p">)</span>

<span class="c1"># Connect GN router to Link Layer for sending</span>
<span class="n">gn_router</span><span class="o">.</span><span class="n">link_layer</span> <span class="o">=</span> <span class="n">link_layer</span>  <span class="c1"># üëà Bidirectional connection</span>
</pre></div>
</div>
<p>This creates a bidirectional connection:</p>
<ul class="simple">
<li><p><strong>Incoming packets</strong>: Link Layer ‚Üí <code class="docutils literal notranslate"><span class="pre">gn_router.gn_data_indicate()</span></code></p></li>
<li><p><strong>Outgoing packets</strong>: GN Router ‚Üí <code class="docutils literal notranslate"><span class="pre">link_layer.send()</span></code></p></li>
</ul>
<p>See the <a class="reference internal" href="../getting_started.html"><span class="doc">Getting Started</span></a> tutorial for a complete example.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="geonetworking.html" class="btn btn-neutral float-right" title="GeoNetworking (GN)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, i2CAT Foundation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>